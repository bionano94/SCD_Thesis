\documentclass{standalone}




\begin{document}
\chapter {Proof of equality between Dice Coefficient and F1 Score}\label{APPENDIX:Dice_F1}

Using the four definitions given for the confusion matrix in Chapter \ref{CAP:theory} it is possible to proof the equalities of those two equations.

Recalling \ref{eq:precision} and \ref{eq:recall}:

    \begin{equation}
    \begin{align*}
        F1 & = \frac{2}{ \frac{1}{precision} + \frac{1}{recall}} =  
        \frac{2}{ \frac{tp + fp}{tp} + \frac{tp + fn}{tp}} = \\
         & = \frac{2}{\frac{2tp + fp + fn}{tp}} =
        \frac{2tp}{2tp + fp + fn}
    \end{align*}
    \end{equation}

Now the two classes to be considered in the Dice Similarity Coefficient \ref{eq:Dice} are the \textit{Predicted Positive} as $X$ and the \textit{True Positive} as $Y$, so we find that $X = tp + fp$ and $Y = tp + fn$

Applying those definitions we find that:
    \begin{equation}
    \begin{align*}
         |X \cap Y|  & = tp  \\
        |X| + |Y|  & = tp + fp + tp + fn = 2tp + fp + fn
    \end{align*}
    \end{equation}

The consequence is that:
\begin{equation}
DSC = 2\frac{|X \cap Y |}{|X| + |Y|} = 2\frac{tp}{2tp + fp + fn} = F1
\end{equation}


\end{document}